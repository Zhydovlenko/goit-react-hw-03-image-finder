{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/App/App.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Notification/Notification.js","services/imagesApi.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","src","alt","ImageGalleryItemImage","Modal","handleKeyDown","code","onClick","window","addEventListener","removeEventListener","Overlay","ImageGallery","isModalOpened","largeImage","openModal","largeImageURL","currentTarget","dataset","closeModal","images","tags","map","id","webformatURL","key","data-src","App","color","height","width","Notification","message","searchQuery","page","axios","get","then","response","data","hits","loading","error","fetchImages","imagesApi","catch","finally","handleSearchFormSubmit","query","prevProps","prevState","length","scrollTo","top","scrollY","innerHeight","behavior","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1a062a2a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2gpSK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2ol8z\"};","import React, { Component } from 'react';\r\n\r\nimport styles from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = { inputValue: '' };\r\n\r\n  handleChange = e => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus=\"on\"\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ src, alt }) => (\r\n  <img className={styles.ImageGalleryItemImage} src={src} alt={alt} />\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from 'react';\r\nimport styles from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClick();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { src, alt, onClick } = this.props;\r\n    return (\r\n      <div className={styles.Overlay} onClick={onClick}>\r\n        <div className={styles.Modal}>\r\n          <img src={src} alt={alt} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Modal from '../Modal/Modal';\r\n\r\nimport styles from './ImageGallery.module.css';\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    isModalOpened: false,\r\n    largeImage: '',\r\n  };\r\n\r\n  openModal = e => {\r\n    const largeImageURL = e.currentTarget.dataset.src;\r\n    this.setState({ largeImage: largeImageURL, isModalOpened: true });\r\n  };\r\n\r\n  closeModal = e => {\r\n    if (!e || e.currentTarget === e.target)\r\n      this.setState({ isModalOpened: false });\r\n  };\r\n\r\n  render() {\r\n    const { isModalOpened, largeImage } = this.state;\r\n    const { images, tags } = this.props;\r\n    return (\r\n      <>\r\n        <ul className={styles.ImageGallery}>\r\n          {images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n            <li\r\n              key={id}\r\n              onClick={this.openModal}\r\n              data-src={largeImageURL}\r\n              className={styles.ImageGalleryItem}\r\n            >\r\n              <ImageGalleryItem src={webformatURL} alt={tags} />\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        {isModalOpened && (\r\n          <Modal src={largeImage} alt={tags} onClick={this.closeModal} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nexport default class App extends Component {\r\n  render() {\r\n    return <Loader type=\"ThreeDots\" color=\"blue\" height={80} width={80} />;\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Notification(message) {\r\n  return <div>{message}</div>;\r\n}\r\n","import axios from 'axios';\r\n\r\nconst fetchImagesWithQuery = (searchQuery, page) =>\r\n  axios\r\n    .get(\r\n      `https://pixabay.com/api/?key=16353220-505ad01d611a0174a04cba4dd&q=${searchQuery}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data.hits);\r\n\r\nexport default {\r\n  fetchImagesWithQuery,\r\n};\r\n","import React, { Component } from 'react';\n\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Loader from '../Loader/Loader';\nimport Notification from '../Notification/Notification';\n\nimport imagesApi from '../../services/imagesApi';\n\nimport styles from './App.module.css';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    loading: false,\n    error: null,\n    searchQuery: '',\n    page: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    }\n\n    if (prevState.images.length > 12) {\n      window.scrollTo({\n        top: window.scrollY + window.innerHeight,\n        // top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n    this.setState({ loading: true });\n    imagesApi\n      .fetchImagesWithQuery(searchQuery, page)\n      .then(images =>\n        this.setState(state => ({\n          images: [...state.images, ...images],\n          page: state.page + 1,\n        })),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  handleSearchFormSubmit = query => {\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      images: [],\n    });\n  };\n\n  render() {\n    const { images, loading, error } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.handleSearchFormSubmit} />\n\n        {error && <Notification message=\"No results!\" />}\n\n        {images.length > 0 && <ImageGallery images={images} />}\n        {loading && <Loader />}\n\n        {images.length > 0 && !loading && (\n          <button type=\"button\" onClick={this.fetchImages}>\n            Load more\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2yqjg\",\"SearchForm\":\"Searchbar_SearchForm__3nWJN\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3o9oe\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3_kHr\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3F5Lc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1K_Kl\",\"Modal\":\"Modal_Modal__1r6Et\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3B8Q-\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__ou5Wn\"};"],"sourceRoot":""}